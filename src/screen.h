#include "display.h"

Serial_Graphical_LCD_display lcd;

const byte picture [] PROGMEM = {
 0x1C, 0x22, 0x49, 0xA1, 0xA1, 0x49, 0x22, 0x1C,  // face  
 0x10, 0x08, 0x04, 0x62, 0x62, 0x04, 0x08, 0x10,  // star destroyer
 0x4C, 0x52, 0x4C, 0x40, 0x5F, 0x44, 0x4A, 0x51,  // OK logo
};

const byte door_ok[] PROGMEM = {16, 16,
           0x00, 0x1E, 0x92, 0x0C, 0x00, 0x0C, 0x12, 0x0C, 0x00, 0x0C, 0x12, 0x0C, 0x80, 0xDE, 0x44, 0x00, 0x00, 0x00, 0x01, 0x03, 0x06, 0x0C, 0x18, 0x30, 0x60, 0x38, 0x1E, 0x07, 0x01, 0x00, 0x00, 0x00 };
const byte door_nok[] PROGMEM = {16, 16, 
            0x00, 0x1E, 0x12, 0x0C, 0x00, 0x0C, 0x92, 0xCC, 0xC0, 0x8C, 0x12, 0x0C, 0x00, 0x1E, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x6F, 0x6F, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };
const byte valve1[] PROGMEM = {16, 16,
            0x00, 0xFC, 0xF8, 0xF0, 0xE0, 0xC0, 0x80, 0x24, 0x3E, 0xA0, 0xC0, 0xE0, 0xF0, 0xF8, 0xFC, 0x00, 0x00, 0x7F, 0x3F, 0x1F, 0x0F, 0x07, 0x03, 0x01, 0x01, 0x03, 0x07, 0x0F, 0x1F, 0x3F, 0x7F, 0x00 };
const byte valve2[] PROGMEM = {16, 16,
            0x00, 0xFC, 0xF8, 0xF0, 0xE0, 0xC0, 0x80, 0x3A, 0x2A, 0xAE, 0xC0, 0xE0, 0xF0, 0xF8, 0xFC, 0x00, 0x00, 0x7F, 0x3F, 0x1F, 0x0F, 0x07, 0x03, 0x01, 0x01, 0x03, 0x07, 0x0F, 0x1F, 0x3F, 0x7F, 0x00 };
const byte valve_idle[] PROGMEM = {16, 16,
            0x00, 0xFC, 0xF8, 0xF0, 0xE0, 0xC0, 0x80, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xF0, 0xF8, 0xFC, 0x00, 0x00, 0x7F, 0x3F, 0x1F, 0x0F, 0x07, 0x03, 0x01, 0x01, 0x03, 0x07, 0x0F, 0x1F, 0x3F, 0x7F, 0x00 };            
const byte valve3[] PROGMEM = {16, 16,
            0x00, 0xFC, 0xF8, 0xF0, 0xE0, 0xC0, 0x80, 0x2A, 0x2A, 0xBE, 0xC0, 0xE0, 0xF0, 0xF8, 0xFC, 0x00, 0x00, 0x7F, 0x3F, 0x1F, 0x0F, 0x07, 0x03, 0x01, 0x01, 0x03, 0x07, 0x0F, 0x1F, 0x3F, 0x7F, 0x00 };
const byte pump[] PROGMEM = {16, 16,
            0x00, 0xC0, 0x30, 0x98, 0xCC, 0x64, 0x32, 0xFA, 0xFE, 0x32, 0x64, 0xCC, 0x98, 0x30, 0xC0, 0x00, 0x00, 0x03, 0x0D, 0x19, 0x30, 0x20, 0x40, 0x7F, 0x7F, 0x40, 0x20, 0x30, 0x19, 0x0D, 0x03, 0x00 };
const byte motor_idle[] PROGMEM = {16, 16,
            0x00, 0xC0, 0x30, 0x18, 0x0C, 0xE4, 0x42, 0x86, 0x46, 0xE2, 0x04, 0x0C, 0x18, 0x30, 0xC0, 0x00, 0x00, 0x03, 0x0C, 0x18, 0x32, 0x23, 0x40, 0x60, 0x60, 0x43, 0x22, 0x30, 0x18, 0x0C, 0x03, 0x00 };
const byte motor_left[] PROGMEM = {16, 16,
            0x00, 0x78, 0x60, 0x50, 0x4C, 0x04, 0x06, 0x02, 0x02, 0x06, 0x04, 0x0C, 0x18, 0x70, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x10, 0x30, 0x20, 0x60, 0x40, 0x40, 0x60, 0x20, 0x30, 0x18, 0x0E, 0x03, 0x00 };
const byte motor_right[] PROGMEM = {16, 16,
            0x00, 0xC0, 0x70, 0x18, 0x0C, 0x04, 0x06, 0x02, 0x02, 0x06, 0x04, 0x4C, 0x58, 0x60, 0x78, 0x00, 0x00, 0x03, 0x0E, 0x18, 0x30, 0x20, 0x60, 0x40, 0x40, 0x60, 0x20, 0x30, 0x10, 0x00, 0x00, 0x00 };
const byte motor_spin[] PROGMEM = {16, 16,
            0x00, 0xC0, 0x30, 0x98, 0xCC, 0x24, 0x92, 0x4A, 0x4A, 0x92, 0x24, 0x4C, 0x98, 0x30, 0xC0, 0x00, 0x00, 0x07, 0x18, 0x23, 0x0E, 0x18, 0x33, 0x24, 0x69, 0x69, 0x24, 0x32, 0x19, 0x0C, 0x03, 0x00 };
const byte heater[] PROGMEM = {16, 16,
            0x00, 0x00, 0x00, 0x00, 0x80, 0x42, 0x24, 0x98, 0x42, 0x24, 0x98, 0x42, 0x24, 0x18, 0x00, 0x00, 0x00, 0x40, 0x46, 0x49, 0x50, 0x66, 0x49, 0x50, 0x66, 0x49, 0x50, 0x60, 0x40, 0x40, 0x40, 0x00 };\
const byte pressure_sw[] PROGMEM = {16, 16,
            0x00, 0x80, 0x00, 0x00, 0x1C, 0x22, 0x22, 0x1C, 0x00, 0x3E, 0x08, 0x14, 0x22, 0x00, 0x80, 0x00, 0x00, 0x07, 0x1F, 0x31, 0x61, 0x41, 0x41, 0x41, 0x41, 0x41, 0x41, 0x61, 0x31, 0x1F, 0x07, 0x00 };

const byte pic1[] PROGMEM = {24, 24,
                             0x3F, 0x66, 0xCC, 0x98, 0xE0, 0x60, 0x38, 0x8C, 0x46, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x4E, 0x9C, 0x30, 0x20, 0xF8, 0x84, 0xFE, 0x1F, 0x00, 0x00, 0x00, 0x7C, 0xC7, 0x00, 0x00, 0x00, 0x98, 0xCE, 0xCA, 0x5E, 0x40, 0x40, 0x5E, 0x4A, 0xDE, 0x80, 0x00, 0x00, 0x00, 0xE3, 0x3E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x0C, 0x18, 0x10, 0x31, 0x20, 0x64, 0x4C, 0xC8, 0xC8, 0xC8, 0xCC, 0x44, 0x41, 0x63, 0x32, 0x1D, 0x00, 0x00, 0x00, 0x00}; 

const byte wm1[] PROGMEM = {40, 56,
                            0xFE, 0xFF, 0x03, 0x03, 0x03, 0x03, 0xE3, 0xF3, 0x1B, 0x1B, 0x1B, 0x1B, 0xF3, 0xE3, 0x03, 0x03, 0x03, 0x33, 0x33, 0x03, 0x03, 0x33, 0x33, 0x03, 0x03, 0x03, 0x33, 0x33, 0x83, 0x83, 0x83, 0x03, 0x03, 0x03, 0x83, 0x83, 0x83, 0x03, 0xFF, 0xFE, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x03, 0x07, 0x0C, 0x0C, 0x0C, 0x0C, 0x87, 0x83, 0xC0, 0xC0, 0xC0, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0xC0, 0xC0, 0xC0, 0x80, 0x80, 0x0B, 0x0A, 0x0E, 0x00, 0x08, 0x00, 0x0F, 0x02, 0x00, 0x08, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x80, 0xE0, 0x78, 0x1C, 0x8E, 0xE7, 0x73, 0x39, 0x99, 0xCC, 0xCC, 0x66, 0x66, 0x66, 0x66, 0x06, 0x06, 0x06, 0x06, 0x0C, 0x0C, 0x19, 0x39, 0xF3, 0xC7, 0x8E, 0x1C, 0x70, 0xE0, 0x80, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0xFC, 0xFF, 0x83, 0x00, 0xFE, 0xFF, 0x71, 0x30, 0x30, 0x33, 0x31, 0x30, 0x60, 0x60, 0x60, 0xC0, 0xC0, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0x83, 0xFF, 0xFE, 0x00, 0x83, 0xFF, 0xFC, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x07, 0x1F, 0x38, 0xE1, 0xC7, 0x8F, 0x3C, 0x30, 0x60, 0xE0, 0xC0, 0xC0, 0x80, 0x80, 0x80, 0x80, 0x81, 0x81, 0xC1, 0xC1, 0xE3, 0x63, 0x31, 0x1D, 0x8F, 0xC7, 0xF1, 0x38, 0x1F, 0x07, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x03, 0x06, 0x06, 0x0C, 0x0C, 0x0D, 0x19, 0x19, 0x19, 0x19, 0x19, 0x19, 0x0D, 0x0C, 0x0C, 0x06, 0x07, 0x03, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x01, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x01};

const char t[] PROGMEM = {0x91, 0x92, 0x80, 0x93, 0x90, 0x8E, 0x91, 0x20, 0x50, 0x72, 0x65, 0x76, 0x65, 0x7A, 0x61, 0x20, 0x8F, 0x90, 0x84, 0x81, 0x84, 0x85, 0x80, 0};

const char msg1[] PROGMEM = {0x84, 0x8D, 0x93, 0x8F, 0x8C, 0x8E, 0x20, 0x8F, 0x8A, 0x93, 0x8C, 0x92, 0x86, 0x90, 0x88, 0x8E, 0};
const char lbl_progr[] PROGMEM = {0x8F, 0x90, 0x8E, 0x82, 0x90, 0x3A, 0};

void intro()
 {
  lcd.clear();
  lcd.img(wm1, 43, 8);
  delay(5000);
  lcd.clear();
  lcd.selectFont(font_cp437);
  lcd.textSize(1);
  lcd.print(PGMSTR(msg1));
  lcd.line (0, 10, 127, 10, 1);
  lcd.selectFont(font_fixed_5x8);
  lcd.gotoxy (30, 16);
  lcd.print("(c)2020 by"); 
  lcd.gotoxy (10, 24);
  lcd.print("Stavros S. Fotoglou");
  delay(5000);
 }

 void front_page()
 {
  lcd.clear();
  lcd.selectFont(font_cp437);
  lcd.print(PGMSTR(lbl_progr));
  lcd.selectFont(font_fixed_5x8);
  char tmp[] = {0x89, 0x80, 0x8C, 0x8E, 0x8C, 0x88, 0x89, 0x8E, 0}; //ΚΑΝΟΝΙΚΟ
  lcd.setInv(true);
  lcd.print(tmp);
  lcd.setInv(false);
  lcd.line (0, 10, 127, 10, 1);
  lcd.line (0, 12, 127, 12, 1);
  lcd.gotoxy (0, 16);
  lcd.print("TEMP:");
  lcd.gotoxy (0, 24);
  lcd.print("SPIN:");
  lcd.gotoxy (0, 32);
  lcd.print("SYNTOMO:");
  lcd.line (63, 12, 63, 41, 1);
  lcd.gotoxy (65, 16);
  lcd.print("PROPL:");
  lcd.frameRect (0, 41, 127, 46, 1, 1);
  lcd.selectFont(font_fixed_3x5);
  lcd.gotoxy (65, 32);
  lcd.print("RPM:");
  lcd.selectFont(font_fixed_5x8);
 }
 
 void status_bar()
 {
  lcd.line (0, 46, 127, 46, 1);
  byte x=2;
  lcd.img(door_ok, x, 48);
  x += 17;
  lcd.img(pressure_sw, x, 48);
  x += 18;
  lcd.selectFont(font_fixed_3x5);
  lcd.gotoxy(x, 48);
  lcd.print("TEMP");
  //lcd.gotoxy(x, 56);
  //lcd.print(w_temp);
  x += 8;
  lcd.gotoxy(x, 56);
  lcd.putch(127);
  lcd.putch('C');
  x += 10;
  lcd.line (x, 46, x, 63, 1);
  x += 2;
  lcd.img(valve_idle, x, 48);
  x += 17;
  lcd.img(pump, x, 48);
  x += 17;
  lcd.img(motor_idle, x, 48);
  x += 17;
  lcd.img(heater, x, 48);
  //x += 17;
  //lcd.img(motor_spin, x, 48);
  //lcd.gotoxy(82, 32);
  //lcd.print(avg_rpm);
 }
